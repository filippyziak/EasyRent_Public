<div class="container my-5 py-5">
  <div class="col">
    <div class="row col-md-4 offset-md-4 justify-content-center">
      <form [formGroup]="createForm" (ngSubmit)="createRentalAd(createForm)">
        <label class="col-12"> Title:</label>
        <input
          class="col-12"
          type="text"
          placeholder="Title"
          formControlName="title"
          id="title"
          required
        />
        <div *ngIf="title.invalid && (title.dirty || title.touched)" class="alert alert-danger">
      <div *ngIf="title.errors?.['required']">Title is required.</div>
      <div *ngIf="title.errors?.['maxlength']">Title length must be between {{validationConsts.TitleMinLength}} - {{validationConsts.TitleMaxLength}}.</div>
      <div *ngIf="title.errors?.['minlength']">Title length must be between {{validationConsts.TitleMinLength}} - {{validationConsts.TitleMaxLength}}.</div>
      </div>
        <div>
          <label class="col-12"> Description:</label>
          <textarea
            class="col-12"
            type="text"
            placeholder="Description"
            cdkTextareaAutosize
            #autosize="cdkTextareaAutosize"
            formControlName="description"
            id="description"
          ></textarea>
          <div *ngIf="description.invalid && (description.dirty || description.touched)" class="alert alert-danger">
            <div *ngIf="description.errors?.['required']">Description is required.</div>
            <div *ngIf="description.errors?.['minlength']">Description length must be between {{validationConsts.DescriptionMinLength}} - {{validationConsts.DescriptionMaxLength}}.</div>
            <div *ngIf="description.errors?.['maxlength']">Description length must be between {{validationConsts.DescriptionMinLength}} - {{validationConsts.DescriptionMaxLength}}.</div>
            </div>
        </div>
        <label class="col-12 mt-2 mb-1"> Country:</label>
        <input
          class="col-12"
          type="text"
          placeholder="Country"
          formControlName="country"
          id="country"
        />
        <div *ngIf="country.invalid && (country.dirty || country.touched)" class="alert alert-danger">
          <div *ngIf="country.errors?.['required']">Country is required.</div>
          <div *ngIf="country.errors?.['minlength']">Country length must be between {{validationConsts.PlaceAddressMinLength}} - {{validationConsts.PlaceAddressMaxLength}}.</div>
          <div *ngIf="country.errors?.['maxlength']">Country length must be between {{validationConsts.PlaceAddressMinLength}} - {{validationConsts.PlaceAddressMaxLength}}.</div>
          </div>
        <label class="col-12 mt-2 mb-1"> City:</label>
        <input
          class="col-12"
          type="text"
          placeholder="City"
          formControlName="city"
          id="city"
        />
        <div *ngIf="city.invalid && (city.dirty || city.touched)" class="alert alert-danger">
          <div *ngIf="city.errors?.['required']">City is required.</div>
          <div *ngIf="city.errors?.['minlength']">City length must be between {{validationConsts.PlaceAddressMinLength}} - {{validationConsts.PlaceAddressMaxLength}}.</div>
          <div *ngIf="city.errors?.['maxlength']">City length must be between {{validationConsts.PlaceAddressMinLength}} - {{validationConsts.PlaceAddressMaxLength}}.</div>
          </div>
        <label class="col-12 mt-2 mb-1"> Street:</label>
        <input
          class="col-12"
          type="text"
          placeholder="Street"
          formControlName="street"
          id="street"
        />
        <div *ngIf="street.invalid && (street.dirty || street.touched)" class="alert alert-danger">
          <div *ngIf="street.errors?.['required']">Street is required.</div>
          <div *ngIf="street.errors?.['minlength']">Street length must be between {{validationConsts.PlaceAddressMinLength}} - {{validationConsts.PlaceAddressMaxLength}}.</div>
          <div *ngIf="street.errors?.['maxlength']">Street length must be between {{validationConsts.PlaceAddressMinLength}} - {{validationConsts.PlaceAddressMaxLength}}.</div>
          </div>
        <label class="col-12 mt-2 mb-1"> Price per day:</label>
        <input
          class="col-12 mb-3"
          type="number"
          placeholder="0.00$"
          formControlName="price"
          id="price"
        />
        <div *ngIf="street.invalid && (price.dirty || price.touched)" class="alert alert-danger">
          <div *ngIf="price.errors?.['required']">Street is required.</div>
          <div *ngIf="price.errors?.['min']">Street length must be between {{validationConsts.PricePerDayMinPrice}} - {{validationConsts.PricePerDayMaxPrice}}.</div>
          <div *ngIf="price.errors?.['max']">Street length must be between {{validationConsts.PricePerDayMinPrice}} - {{validationConsts.PricePerDayMaxPrice}}.</div>
          </div>
        <input
          accept=".jpg, .png"
          formControlName="file"
          id="file"
          type="file"
          class="form-control"
          multiple=""
          (change)="onFileChange($event)"
        />
        <div
          *ngIf="f.file.touched && f.file.invalid"
          class="alert alert-danger"
        >
          <div *ngIf="f.file.errors && f.file.errors.required">
            File is required.
          </div>
        </div>

        <div *ngFor="let url of photos; let i = index">
          <button class="btn btn-danger" type="button" (click)="removeFile(i)">X</button>
          <img [src]="url" height="150" width="200px" style="margin: 5px" />
          <br />
        </div>

        <p class="mt-3 row col-12">
          <button class="btn btn-primary" [disabled]="createForm.invalid" type="submit">
            Create Announcement!
          </button>
        </p>
      </form>
    </div>
  </div>
</div>
